<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
    <title>Aurora</title>
</head>

<body>
    <main class="container-sm">
        <article>
            <h1>Aurora</h1>
            <p>Ozone sanitization system for the food industry.</p>
            <h2>Scope</h2>
            <ul>
                <li>Gaseous ozone</li>
                <li>Environments sanitization</li>
                <li>Volume max 1000m3</li>
            </ul>
            <h2>DONE</h2>
            <ul>
                <li>Ozone output selection (1g/h - 10g/h)</li>
                <li>Oxygen concentrator of ozone production</li>
                <li>Calendar for ozone production (days)</li>
                <li>Ozone sensor (read-only)</li>
                <li>Touch screen 7" (HMI)</li>
            </ul>
            <h2>TO DO</h2>
            <ul>
                <li>Include modbus (internal components communication)</li>
                <li>Include a second ozone generator to produce ozone without pauses</li>
                <li>Include oxygen sensor to monitor the state/performance of the oxygen concentrator</li>
                <li>Replace ozone generators with adjustable ones (variable output selected from software)</li>
                <li>Include web server (read-only data)</li>
            </ul>
            <h2>DOING NOW</h2>
            <li>Include modbus (internal components communication)</li>
            <h3>MODBUS</h3>
            <p style="font-weight: bold;">FUN: Calculate CRC16</p>
            <pre><code>
uint16_t modbus_crc16(uint8_t *buf, int len)
{
    uint16_t crc = 0xFFFF;
    for (int pos = 0; pos < len; pos++) 
    {
        crc ^= (uint16_t)buf[pos];
        for (int i = 8; i != 0; i--) 
        {
            if ((crc & 0x0001) != 0) 
            {
                crc >>= 1;
                crc ^= 0xA001;
            }
            else
            {
                crc >>= 1;
            }
        }
    }
    return crc;  
}
            </code></pre>
        </article>
    </main>
</body>

</html>